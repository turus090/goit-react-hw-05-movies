{"version":3,"file":"static/js/662.41e724a1.chunk.js","mappings":"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","sources":["common/requests.js","webpack://react-homework-template/./src/components/list/list.module.scss?d3c8","components/list/ItemList.jsx","components/list/List.jsx","webpack://react-homework-template/./src/components/movies/movies.module.scss?2605","components/movies/Movies.jsx","pages/moviesPage/MoviesPage.jsx"],"sourcesContent":["import axios from \"axios\"\n\nconst authKey = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3ZmNhOGM2ZWRmZWJhMTIxMWUxMDAzMWY0NjA0ZjBlZiIsInN1YiI6IjY0ZDBiN2ZmODUwOTBmMDBhZTg0NDEwMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.eDgWr96RE55fRA4IBn6Wlksw1tb0PYVFug23jtjXiMQ'\nconst reqHeader = {\n    headers:{\n        accept: 'application/json',\n        Authorization: authKey\n    }\n}\n\nexport const getPopularFilms = async ()=> { \n    const {data} = await axios.get(\n        'https://api.themoviedb.org/3/movie/popular?language=en-US&page=1',\n        reqHeader\n    )\n    return data\n}\nexport const getMovieDetails = async (movieId) => { \n    const {data} = await axios.get(\n        `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n        reqHeader\n    )\n    return data\n}\n\nexport const getCasts = async (movieId) => {\n    const {data} = await axios.get(\n        `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n        reqHeader\n    )\n    return data\n}\n\nexport const getReviews = async (movieId) => {\n    const {data} = await axios.get(\n        `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\n        reqHeader\n    )\n    return data\n}\n\nexport const getSearchList = async (searchValue) => {\n    const {data} = await axios.get(\n        `https://api.themoviedb.org/3/search/movie?query=${searchValue}&include_adult=true&language=en-US&page=1`,\n        reqHeader\n    )\n    return data\n}","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"list_list__mJQSf\",\"list_title\":\"list_list_title__t+8Kv\",\"list_list\":\"list_list_list__vv8O2\",\"list_list_item\":\"list_list_list_item__rmvKL\",\"list_list_item_link\":\"list_list_list_item_link__M93T3\"};","import { Link, useLocation } from 'react-router-dom';\nimport s from './list.module.scss';\n\nconst ItemList = ({ title, id }) => {\n  const location = useLocation();\n  return (\n    <li className={s.list_list_item}>\n      <Link\n        to={`/movies/${id}`}\n        state={{ from: location }}\n        className={s.list_list_item_link}\n      >\n        {title}\n      </Link>\n    </li>\n  );\n};\n\nexport default ItemList;\n","import ItemList from './ItemList';\nimport s from './list.module.scss';\nconst List = ({ store }) => {\n  return (\n    <ul className={s.list}>\n      {store.map(storeItem => (\n        <ItemList\n          title={storeItem.title}\n          id={storeItem.id}\n          key={storeItem.id}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default List;\n","// extracted by mini-css-extract-plugin\nexport default {\"container_search\":\"movies_container_search__N-7ca\",\"container_search_input\":\"movies_container_search_input__2+eYc\",\"container_search_btn\":\"movies_container_search_btn__yTkF2\",\"list\":\"movies_list__a8N6Q\",\"list_item\":\"movies_list_item__wXg6G\",\"list_item_link\":\"movies_list_item_link__tr2ky\"};","import s from './movies.module.scss';\nimport { Notify } from 'notiflix';\nimport { useEffect, useState, useRef, useCallback } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { getSearchList } from 'common/requests';\nimport List from 'components/list/List';\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchList, setSearchList] = useState([]);\n  const [startSearch, setStartSearch] = useState(false);\n  const [goBack, setGoBack] = useState(\n    JSON.parse(localStorage.getItem('goBack'))\n  );\n  const inputRef = useRef(null);\n\n  const startSearchReq = useCallback(() => {\n    setStartSearch(true);\n    const searchValue = inputRef.current.value;\n    console.log(searchValue);\n    if (searchValue.length > 0) {\n      setSearchParams({ search: searchValue });\n    } else {\n      Notify.info('Please entry film name');\n    }\n    localStorage.setItem('goBack', 'false');\n    setGoBack(false);\n  }, [setSearchParams, inputRef]);\n\n  /* useEffect(() => {\n    if (localStorage.getItem('goBack') === 'true') {\n      localStorage.setItem('goBack', 'false');\n      startSearchReq();\n    }\n  }, [startSearchReq]);*/\n\n  useEffect(() => {\n    if (startSearch) {\n      getSearchList(searchParams.get('search')).then(res => {\n        setSearchList(res.results);\n      });\n    }\n    localStorage.setItem('search', searchParams.get('search'));\n  }, [searchParams, startSearch, setStartSearch]);\n\n  return (\n    <div className={s.container}>\n      <form onSubmit={e => e.preventDefault()} className={s.container_search}>\n        <input\n          className={s.container_search_input}\n          ref={inputRef}\n          placeholder=\"Write film name to search\"\n          onChange={e => {\n            setSearchParams({ search: e.target.value });\n            setStartSearch(false);\n          }}\n          value={searchParams.get('search') ? searchParams.get('search') : ''}\n        />\n        <button className={s.container_search_btn} onClick={startSearchReq}>\n          Go\n        </button>\n      </form>\n      {searchList.length && !goBack > 0 && <List store={searchList} />}\n    </div>\n  );\n};\n\nexport default Movies;\n","import Movies from 'components/movies/Movies';\n\nconst MoviesPage = () => {\n  return <Movies />;\n};\nexport default MoviesPage;\n"],"names":["reqHeader","headers","accept","Authorization","getPopularFilms","axios","data","getMovieDetails","movieId","getCasts","getReviews","getSearchList","searchValue","title","id","location","useLocation","className","s","to","state","from","store","map","storeItem","useSearchParams","searchParams","setSearchParams","useState","searchList","setSearchList","startSearch","setStartSearch","JSON","parse","localStorage","getItem","goBack","setGoBack","inputRef","useRef","startSearchReq","useCallback","current","value","console","log","length","search","Notify","setItem","useEffect","get","then","res","results","onSubmit","e","preventDefault","ref","placeholder","onChange","target","onClick","List"],"sourceRoot":""}